<!DOCTYPE HTML>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">





    
    <title>c - MPI column cyclic distribution of 2d array from root to other processes - Stack Overflow</title>
    <link rel="shortcut icon" href="http://cdn.sstatic.net/stackoverflow/img/favicon.ico">
    <link rel="apple-touch-icon" href="http://cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png">
    <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="http://stackoverflow.com/opensearch.xml">

    
    <script src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/adzerk1_2_4_43adzerk2_2_17_45adzerk3_2_4_44.js" async="" type="text/javascript"></script><script src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/ga.js" async="" type="text/javascript"></script><script src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/quant.js" async="" type="text/javascript"></script><script type="text/javascript" src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/jquery.js"></script>
        <script type="text/javascript" src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/stub.js"></script>

    <link rel="stylesheet" type="text/css" href="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/all.css">
    
    <link rel="canonical" href="http://stackoverflow.com/questions/3751141/mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes">
    <link rel="alternate" type="application/atom+xml" title="Feed for question 'MPI column cyclic distribution of 2d array from root to other processes'" href="http://stackoverflow.com/feeds/question/3751141">
    <meta name="title" content="c - MPI column cyclic distribution of 2d array from root to other processes - Stack Overflow">
    <link rel="image_src" href="http://sstatic.net/stackoverflow/img/apple-touch-icon.png">
    <script type="text/javascript">
        
        StackExchange.ready(function () {

            StackExchange.question.init({showAnswerHelp:true,totalCommentCount:0,shownCommentCount:0,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:3751141});

            styleCode();
        });
    </script>


        <script type="text/javascript">
        StackExchange.init({"stackAuthUrl":"https://stackauth.com","serverTime":1329705618,"styleCode":true,"enableUserHovercards":true,"site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers"},"user":{"isAnonymous":true,"fkey":"00410e720841366a6ca9f68ce0711dbb","inboxUnviewedCount":-1}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.js":"4ed9aa4b8d0e","js/moderator.js":"adde5b27c625","js/full-anon.js":"fc2b7a88a967","js/full.js":"8d9cff068486","js/wmd.js":"b8e2098f7d36","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/mobile.js":"9e820382dd06","js/help.js":"fc9fb0517db2","js/tageditor.js":"c1ba807b32aa","js/tageditornew.js":"ab523171ddc9","js/inline-tag-editing.js":"b19f6e3b50a5","js/revisions.js":"8c6bcd93b7fe","js/suggested-edits.js":"92144b1c12be"});
        
    </script>

<script src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/full-anon.js" type="text/javascript" async=""></script><script src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/prettify-full.js" type="text/javascript" async=""></script><link rel="stylesheet" type="text/css" href="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/sidebar.css"></head><body class="question-page">
    <noscript><div id="noscript-padding"></div></noscript>
    <div id="notify-container"></div>
    <div id="overlay-header"></div>
    <div id="custom-header"></div>

    <div class="container">
        <div id="header">
            <div id="portalLink">
                <a class="genu" onclick="StackExchange.ready(function(){genuwine.click();});return false;">Stack Exchange</a>
            </div>
            <div id="topbar">
                <div id="hlinks">
                    <span id="hlinks-user">
                  
                  </span>
                  <span id="hlinks-nav">
                  <a href="http://stackoverflow.com/users/login?returnurl=%2fquestions%2f3751141%2fmpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes">log in</a>
 <span class="lsep">|</span>
<a href="http://careers.stackoverflow.com/">careers</a>
 <span class="lsep">|</span>

                  </span>
                  <span id="hlinks-custom">
                  <a href="http://chat.stackoverflow.com/">chat</a>
 <span class="lsep">|</span>
<a href="http://meta.stackoverflow.com/">meta</a>
 <span class="lsep">|</span>
<a href="http://stackoverflow.com/about">about</a>
 <span class="lsep">|</span>
<a href="http://stackoverflow.com/faq">faq</a>
                  </span>
                </div>
                <div id="hsearch">
                    <form id="search" action="/search" method="get" autocomplete="off">
                    <div>
                        <input autocomplete="off" name="q" class="textbox" placeholder="search" tabindex="1" maxlength="140" size="28" value="search" type="text">
                    </div>
                    </form>
                </div>
            </div>
            <br class="cbt">
            <div id="hlogo">
                <a href="http://stackoverflow.com/">Stack Overflow</a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs">
                    <ul>
                        <li class="youarehere"><a id="nav-questions" href="http://stackoverflow.com/questions">Questions</a></li>
                        <li><a id="nav-tags" href="http://stackoverflow.com/tags">Tags</a></li>
                        <li><a id="nav-users" href="http://stackoverflow.com/users">Users</a></li>
                        <li><a id="nav-badges" href="http://stackoverflow.com/badges">Badges</a></li>
                        <li><a id="nav-unanswered" href="http://stackoverflow.com/unanswered">Unanswered</a></li>
                    </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion" href="http://stackoverflow.com/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        


        <div id="content">
            


<div itemscope="" itemtype="http://schema.org/Article">
<link itemprop="image" href="http://cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png">
<div id="question-header">
    <h1 itemprop="name"><a href="http://stackoverflow.com/questions/3751141/mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes" class="question-hyperlink">MPI column cyclic distribution of 2d array from root to other processes</a></h1>
</div>
<div id="mainbar">


<div class="question" id="question" data-questionid="3751141">

    <div class="everyonelovesstackoverflow" id="adzerk1"><a href="http://engine.adzerk.net/redirect/0/5924/2444/8277/c64c7857136945ac8691661d3afbe99e/43/1178/8810/634653022410873710/?keywords=c%2cmultithreading%2cmpi" rel="nofollow" target="_blank" title=""><img src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/0a96cc99c1784d6abe3cae6b8c8bf013.png" title="" alt="" height="90" width="728" border="0"></a></div>

    
    <table>
    <tbody><tr>
    <td class="votecell">
        

<div class="vote">
    <input value="3751141" type="hidden">
    <a class="vote-up-off" title="This question shows research effort; it is useful and clear (click again to undo)">up vote</a>
    <span class="vote-count-post">0</span>
    <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful (click again to undo)">down vote</a>
    <a class="star-off" href="#" title="This is a favorite question (click again to undo)">favorite</a>
    <div class="favoritecount"><b></b></div>   
 
    <script type="text/javascript">
        StackExchange.ready(function () {
            var shareUrl = 'http%3a%2f%2fstackoverflow.com%2fq%2f3751141';
            var shareMsg = 'MPI+column+cyclic+distribution+of+2d+array+from+root+to+other+processes';
            
            StackExchange.share.gplus($('#gp-share-3751141'), shareUrl, shareMsg) ;
            StackExchange.share.facebook($('#fb-share-3751141'), shareUrl, shareMsg);
            StackExchange.share.twitter($('#twitter-share-3751141'), shareUrl, shareMsg);
        });
    </script>
    <a id="gp-share-3751141" class="gp-share" title="share link to this question on Google+">share [g+]</a>
    <a id="fb-share-3751141" class="fb-share" title="share link to this question on Facebook">share [fb]</a>
    <a id="twitter-share-3751141" class="twitter-share" title="share link to this question on Twitter">share [tw]</a>    
</div>

    </td>
<td class="postcell">
<div>          
    <div class="post-text" itemprop="description">
        <p>so like i wrote in the title, my problem is, that i have a C 
program which makes use of the mpi library. I initialised a dynmaic 2d 
array which dimensions(rows,columns) are read from the stdin at process 
root.
So far so good no big deal. But when i try to distribute the elemnts 
columns cylic among the others  im not making any progress. I use 
MPI_Scatter to distribute the column to the other processes in an array.
 there I take advantage of the derived datatype MPI_Type_vector for the 
2d array.  Of course it only distributes the first column to the 
processes local 1d arrays. So for the rest I put MPI_Scatter in a 
for-loop and now I have all columns distributed, but only for the case 
the number of processes and the matrix dimensions are equal. How could I
 distribute more than one column to a process by using MPI_Scatter?
To this point I doubt, that this is the best attempt to solve the 
problem, cause there must be a better way with less communication.
Is it wiser to use a 1d array for a matrix instead of the 2d array?!</p>

<p>Any hints are welcome.
THX</p>

<p>Greets</p>

<p>Edit:</p>

<p>After a little thinking...its obvious that if I make use of the 
for-loop, the derived datatype MPI_Type_vector becomes unecessary. That 
indicates the for-loop is not bringing me any further. </p>

<p>for(i=0;i

    </p></div>            
    <div class="post-taglist">
        <a href="http://stackoverflow.com/questions/tagged/c" class="post-tag" title="" rel="tag">c</a> <a href="http://stackoverflow.com/questions/tagged/multithreading" class="post-tag" title="show questions tagged 'multithreading'" rel="tag">multithreading</a> <a href="http://stackoverflow.com/questions/tagged/mpi" class="post-tag" title="show questions tagged 'mpi'" rel="tag">mpi</a> 
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
        <div class="post-menu"><a href="http://stackoverflow.com/q/3751141" title="short permalink to this question" id="link-post-3751141">link</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/3751141/edit">improve this question</a></div>
    </td>
    <td class="post-signature" align="right">
<div class="user-info"><div class="user-action-time">edited <a href="http://stackoverflow.com/posts/3751141/revisions" title="show all edits to this post"><span title="2010-09-20 13:41:49Z" class="relativetime">Sep 20 '10 at 13:41</span></a></div><div class="user-gravatar32"></div><div class="user-details"><br></div></div>    </td>
    <td class="post-signature owner">
    <div class="user-info"><div class="user-action-time">asked <span title="2010-09-20 11:46:13Z" class="relativetime">Sep 20 '10 at 11:46</span></div><div class="user-gravatar32"><a href="http://stackoverflow.com/users/452677/stepp"><div class=""><img src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/2a25d749d9ed781a429a1d9d3cc43129.png" alt=""></div></a></div><div class="user-details"><a href="http://stackoverflow.com/users/452677/stepp">Stepp</a><br><span class="reputation-score" title="reputation score" dir="ltr">1</span><span title="2 bronze badges"><span class="badge3"></span><span class="badgecount">2</span></span></div></div>
    </td>
    </tr>
    </tbody></table>
</div>
</td>    </tr>


<tr>
<td class="votecell"></td>
<td>
    <div id="comments-3751141" class="comments dno">
        <table>
        <tbody>
        
            <tr><td></td><td></td></tr>
        
        </tbody>
    
        </table>
    </div>
    
    
    <div style="color: rgb(136, 136, 136);" class="was-this-helpful">
        feedback
    </div>
    
</td>
</tr>    </tbody></table>    
</div>



<div id="answers">

    <a name="tab-top"></a>
    <div id="answers-header">
        <div class="subheader answers-subheader">
            <h2>2 Answers</h2>
            <div id="tabs">
                <a href="http://stackoverflow.com/questions/3751141/mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes?answertab=active#tab-top" title="Answers with the latest activity first">active</a>
<a href="http://stackoverflow.com/questions/3751141/mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes?answertab=oldest#tab-top" title="Answers in the order they were provided">oldest</a>
<a class="youarehere" href="http://stackoverflow.com/questions/3751141/mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes?answertab=votes#tab-top" title="Answers with the highest score first">votes</a>

            </div>
        </div>    
    </div>    


  
    <a name="3752861"></a>
    <div id="answer-3752861" class="answer" data-answerid="3752861">
        <table>
        <tbody><tr>
        <td class="votecell">
            

<div class="vote">
    <input value="3752861" type="hidden">
    <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
    <span class="vote-count-post">0</span>
    <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>
 
</div>

        </td>


<td class="answercell">
    <div class="post-text"><p>I'm not sure that I fully understand what you are trying to do, nor how, so this may be off the mark:</p>

<p>It looks as if you are trying to distribute the columns of a 2D array
 across a number of processes.  Perhaps you have a 10-column array and 4
 processes, so 2 processes will get 3 columns each and 2 processes will 
get 2 columns each ?  Of course, process 0 'gets' 3 columns from itself.</p>

<p>Your first step, which you've taken, is to define an MPI_Type_vector which defines a column of the array.  </p>

<p>Next, and here I get a bit puzzled by your use of MPI_Scatter, why 
not simply write a loop which sends columns 1,2,3,4,5,6,7,8,9,10 to 
processes 0,1,2,3,0,1,2,3,0,1 (oh, having previously arranged that the 
receiving processes have a 2d array to put the columns into as they 
arrive) ?</p>

<p>The problem with using MPI_Scatter for this is that you have (I 
think) to send the same amount of data to each of the receiving 
processes, which, as you have observed, will not work if the number of 
processes does not exactly divide into the number of columns in your 
array.  If you had to use MPI_Scatter then you might have to pad your 
array with extra columns, but that seems a bit pointless.</p>

<p>Finally, you might be able to do what you want in 1 statement with 
MPI_Type_create_subarray or MPI_Type_create_darray, but I have no 
experience of using these.</p>
</div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/3752861" title="short permalink to this answer" id="link-post-3752861">link</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/3752861/edit">improve this answer</a></div>    </td>
            

    <td class="post-signature" align="right">   
       

    <div class="user-info user-hover"><div class="user-action-time">answered <span title="2010-09-20 15:18:10Z" class="relativetime">Sep 20 '10 at 15:18</span></div><div class="user-gravatar32"><a href="http://stackoverflow.com/users/44309/high-performance-mark"><div class=""><img src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/72e082bd1824b1bb03c21369749f46b4.png" alt=""></div></a></div><div class="user-details"><a href="http://stackoverflow.com/users/44309/high-performance-mark">High Performance Mark</a><br><span class="reputation-score" title="reputation score 18977" dir="ltr">19k</span><span title="15 silver badges"><span class="badge2"></span><span class="badgecount">15</span></span><span title="37 bronze badges"><span class="badge3"></span><span class="badgecount">37</span></span></div></div>
    </td>
    </tr>
    </tbody></table>
</td>        </tr>


<tr>
<td class="votecell"></td>
<td>
    <div id="comments-3752861" class="comments dno">
        <table>
        <tbody>
        
            <tr><td></td><td></td></tr>
        
        </tbody>
    
        </table>
    </div>
    
    
    <div style="color: rgb(136, 136, 136);" class="was-this-helpful">
        feedback
    </div>
    
</td>
</tr>    </tbody></table>
</div>

    <div class="everyonelovesstackoverflow" id="adzerk3"><a href="http://engine.adzerk.net/redirect/0/5917/7472/8277/e1d321e1fd044a8ba2dc608a186b5465/44/1178/10182/634653022410971880/?keywords=c%2cmultithreading%2cmpi" rel="nofollow" target="_blank" title=""><img src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/879d9e1805a6495a9e3cbeeffe6da2ad.png" title="" alt="" height="90" width="728" border="0"></a></div>

    
  
    <a name="3839180"></a>
    <div id="answer-3839180" class="answer" data-answerid="3839180">
        <table>
        <tbody><tr>
        <td class="votecell">
            

<div class="vote">
    <input value="3839180" type="hidden">
    <a class="vote-up-off" title="This answer is useful (click again to undo)">up vote</a>
    <span class="vote-count-post">0</span>
    <a class="vote-down-off" title="This answer is not useful (click again to undo)">down vote</a>
 
</div>

        </td>


<td class="answercell">
    <div class="post-text"><p>Ok, so let's try the simple case first -- 
that there's exactly one column per process.   Below is my slightly 
edited version of what you have above; the differences I want to point 
out are just that we've changed how the array A is allocated,  and we're
 just using the one vector data type:</p>

<pre class="lang-c prettyprint"><code><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;mpi.h&gt;</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stdlib.h&gt;</span><span class="pln"><br><br></span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> argc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">char</span><span class="pun">**</span><span class="pln"> argv</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">**</span><span class="pln">A </span><span class="pun">=</span><span class="pln"> NULL </span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">/*2D array initialised on process 0 */</span><span class="pln"><br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="typ">Adata</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">sendbufptr </span><span class="pun">=</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">,</span><span class="pln">j </span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">column </span><span class="pun">;</span><span class="pln"> </span><span class="com">/*1D array for column */</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> columnlen</span><span class="pun">=</span><span class="lit">6</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> my_rank</span><span class="pun">,</span><span class="pln"> p </span><span class="pun">;</span><span class="pln"><br>&nbsp; MPI_Datatype vector_mpi_t </span><span class="pun">;</span><span class="pln"><br><br>&nbsp; MPI_Init</span><span class="pun">(&amp;</span><span class="pln">argc</span><span class="pun">,&amp;</span><span class="pln">argv</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br><br>&nbsp; MPI_Comm_rank</span><span class="pun">(</span><span class="pln">MPI_COMM_WORLD</span><span class="pun">,&amp;</span><span class="pln">my_rank</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; MPI_Comm_size</span><span class="pun">(</span><span class="pln">MPI_COMM_WORLD</span><span class="pun">,&amp;</span><span class="pln">p</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*initialise 2D array on process 0 and allocate memory*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">my_rank</span><span class="pun">==</span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; A </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">**)</span><span class="pln">malloc</span><span class="pun">(</span><span class="pln">p</span><span class="pun">*</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*))</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Adata</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*)</span><span class="pln">malloc</span><span class="pun">(</span><span class="pln">p</span><span class="pun">*</span><span class="pln">columnlen</span><span class="pun">*</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="kwd">double</span><span class="pun">));</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">p</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; A</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">&amp;(</span><span class="typ">Adata</span><span class="pun">[</span><span class="pln">i</span><span class="pun">*</span><span class="pln">columnlen</span><span class="pun">]);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">p</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">&lt;</span><span class="pln">columnlen</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">/* print 2D array to screen */</span><span class="pln"><br>&nbsp; &nbsp; printf</span><span class="pun">(</span><span class="str">"Rank 0's 2D array:\n"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">p</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">columnlen</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%lf "</span><span class="pln"> </span><span class="pun">,</span><span class="pln"> A</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">j</span><span class="pun">])</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="com">/* initialise and allocate memory for 1d column array on every process */</span><span class="pln"><br>&nbsp; column </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">*)</span><span class="pln">malloc</span><span class="pun">(</span><span class="pln">columnlen</span><span class="pun">*</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="kwd">double</span><span class="pun">))</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">columnlen</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; column</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*derived datatype for 2D array columns*/</span><span class="pln"><br>&nbsp; MPI_Type_vector</span><span class="pun">(</span><span class="pln">columnlen</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="pln">MPI_DOUBLE</span><span class="pun">,&amp;</span><span class="pln">vector_mpi_t</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; MPI_Type_commit</span><span class="pun">(&amp;</span><span class="pln">vector_mpi_t</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; sendbufptr </span><span class="pun">=</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">my_rank </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> sendbufptr</span><span class="pun">=&amp;(</span><span class="pln">A</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]);</span><span class="pln"><br>&nbsp; MPI_Scatter</span><span class="pun">(</span><span class="pln">sendbufptr</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> vector_mpi_t</span><span class="pun">,</span><span class="pln"> column</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> vector_mpi_t</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> MPI_COMM_WORLD</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="com">/*print column on every process */</span><span class="pln"><br><br>&nbsp; &nbsp;printf</span><span class="pun">(</span><span class="str">"Rank %d's column: \n"</span><span class="pun">,</span><span class="pln"> my_rank</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp;</span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">columnlen</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%lf "</span><span class="pln"> </span><span class="pun">,</span><span class="pln"> column</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp;</span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp;printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br><br><br>&nbsp; MPI_Finalize</span><span class="pun">()</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br><br>&nbsp; free</span><span class="pun">(</span><span class="pln">column</span><span class="pun">);</span><span class="pln"><br>&nbsp; free</span><span class="pun">(</span><span class="typ">Adata</span><span class="pun">);</span><span class="pln"><br>&nbsp; free</span><span class="pun">(</span><span class="pln">A</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>

<p>The key here is that MPI_Scatter takes a pointer to a block of data -
 not pointers to pointers.   So it won't dereference A[1] and then send 
what's pointing there, and then A[2] and what's pointing there, etc.   
It expects a contiguous block of data.  So we've arranged that in how 
A's data is laid out in memory (note that this is usually the right way 
to do things anyway for numerical computation) - it has a column of data
 followed by the next column of data, etc.  (Although the way I'm 
printing out the data it's more like rows, but whatever.)</p>

<p>Note too that in the MPI_Scatter call I can't just use 
&amp;(A[0][0]), because that's dereferencing a null pointer in all but 
one of the processes.</p>

<p>Going from one column to several is pretty straightforward; the 
column data structure goes from being a 1d array to a 2d array laid out 
like A is.    </p>

<pre class="lang-c prettyprint"><code><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;mpi.h&gt;</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stdlib.h&gt;</span><span class="pln"><br><br></span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> argc</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">char</span><span class="pun">**</span><span class="pln"> argv</span><span class="pun">)</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"> <br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">**</span><span class="pln">A </span><span class="pun">=</span><span class="pln"> NULL </span><span class="pun">;</span><span class="pln"> &nbsp; </span><span class="com">/*2D array initialised on process 0 */</span><span class="pln"><br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="typ">Adata</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">sendbufptr </span><span class="pun">=</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">,</span><span class="pln">j </span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">**</span><span class="pln">columns </span><span class="pun">;</span><span class="pln"> </span><span class="com">/*2D array for column */</span><span class="pln"><br>&nbsp; </span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*</span><span class="pln">columndata</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> columnlen</span><span class="pun">=</span><span class="lit">6</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> ncolumns</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">int</span><span class="pln"> my_rank</span><span class="pun">,</span><span class="pln"> p </span><span class="pun">;</span><span class="pln"><br>&nbsp; MPI_Datatype vector_mpi_t </span><span class="pun">;</span><span class="pln"><br><br>&nbsp; MPI_Init</span><span class="pun">(&amp;</span><span class="pln">argc</span><span class="pun">,&amp;</span><span class="pln">argv</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br><br>&nbsp; MPI_Comm_rank</span><span class="pun">(</span><span class="pln">MPI_COMM_WORLD</span><span class="pun">,&amp;</span><span class="pln">my_rank</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; MPI_Comm_size</span><span class="pun">(</span><span class="pln">MPI_COMM_WORLD</span><span class="pun">,&amp;</span><span class="pln">p</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br><br>&nbsp; ncolumns </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">*</span><span class="pln">p</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*initialise 2D array on process 0 and allocate memory*/</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">my_rank</span><span class="pun">==</span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; A </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">**)</span><span class="pln">malloc</span><span class="pun">(</span><span class="pln">ncolumns</span><span class="pun">*</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*))</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Adata</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*)</span><span class="pln">malloc</span><span class="pun">(</span><span class="pln">ncolumns</span><span class="pun">*</span><span class="pln">columnlen</span><span class="pun">*</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="kwd">double</span><span class="pun">));</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">ncolumns</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; A</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">&amp;(</span><span class="typ">Adata</span><span class="pun">[</span><span class="pln">i</span><span class="pun">*</span><span class="pln">columnlen</span><span class="pun">]);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">ncolumns</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">&lt;</span><span class="pln">columnlen</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">/* print 2D array to screen */</span><span class="pln"><br>&nbsp; &nbsp; printf</span><span class="pun">(</span><span class="str">"Rank 0's 2D array:\n"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">ncolumns</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">columnlen</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%lf "</span><span class="pln"> </span><span class="pun">,</span><span class="pln"> A</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">j</span><span class="pun">])</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; </span><span class="com">/* initialise and allocate memory for 1d column array on every process */</span><span class="pln"><br>&nbsp; columndata </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pun">*)</span><span class="pln">malloc</span><span class="pun">((</span><span class="pln">ncolumns</span><span class="pun">/</span><span class="pln">p</span><span class="pun">)*</span><span class="pln">columnlen</span><span class="pun">*</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="kwd">double</span><span class="pun">))</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; columns </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">**)</span><span class="pln">malloc</span><span class="pun">((</span><span class="pln">ncolumns</span><span class="pun">/</span><span class="pln">p</span><span class="pun">)*</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="kwd">double</span><span class="pln"> </span><span class="pun">*));</span><span class="pln"><br>&nbsp; </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;(</span><span class="pln">ncolumns</span><span class="pun">/</span><span class="pln">p</span><span class="pun">);</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; columns</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">&amp;(</span><span class="pln">columndata</span><span class="pun">[</span><span class="pln">i</span><span class="pun">*</span><span class="pln">columnlen</span><span class="pun">]);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*derived datatype for 2D array columns*/</span><span class="pln"><br>&nbsp; MPI_Type_vector</span><span class="pun">(</span><span class="pln">columnlen</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="pln">MPI_DOUBLE</span><span class="pun">,&amp;</span><span class="pln">vector_mpi_t</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; MPI_Type_commit</span><span class="pun">(&amp;</span><span class="pln">vector_mpi_t</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; sendbufptr </span><span class="pun">=</span><span class="pln"> NULL</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">my_rank </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> sendbufptr</span><span class="pun">=&amp;(</span><span class="pln">A</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]);</span><span class="pln"><br>&nbsp; MPI_Scatter</span><span class="pun">(</span><span class="pln">sendbufptr</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ncolumns</span><span class="pun">/</span><span class="pln">p</span><span class="pun">),</span><span class="pln"> vector_mpi_t</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;(</span><span class="pln">columns</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]),</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ncolumns</span><span class="pun">/</span><span class="pln">p</span><span class="pun">),</span><span class="pln"> vector_mpi_t</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> MPI_COMM_WORLD</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="com">/*print columns on every process */</span><span class="pln"><br><br>&nbsp; &nbsp;printf</span><span class="pun">(</span><span class="str">"Rank %d's columns: \n"</span><span class="pun">,</span><span class="pln"> my_rank</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp;</span><span class="kwd">for</span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">ncolumns</span><span class="pun">/</span><span class="pln">p</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"[%d]: "</span><span class="pun">,</span><span class="pln"> my_rank</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">for</span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">columnlen</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%lf "</span><span class="pln"> </span><span class="pun">,</span><span class="pln"> columns</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">j</span><span class="pun">])</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; MPI_Finalize</span><span class="pun">()</span><span class="pln"> </span><span class="pun">;</span><span class="pln"><br><br>&nbsp; free</span><span class="pun">(</span><span class="pln">columns</span><span class="pun">);</span><span class="pln"><br>&nbsp; free</span><span class="pun">(</span><span class="typ">Adata</span><span class="pun">);</span><span class="pln"><br>&nbsp; free</span><span class="pun">(</span><span class="pln">A</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br></span></code></pre>

<p>And then going to differing number of columns per processor requires using MPI_Scatterv rather than MPI_Scatter.</p>
</div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="http://stackoverflow.com/a/3839180" title="short permalink to this answer" id="link-post-3839180">link</a><span class="lsep">|</span><a href="http://stackoverflow.com/posts/3839180/edit">improve this answer</a></div>    </td>
    <td class="post-signature" align="right">
<div class="user-info"><div class="user-action-time">answered <a href="http://stackoverflow.com/posts/3839180/revisions" title="show all edits to this post"><span title="2010-10-01 12:37:39Z" class="relativetime">Oct 1 '10 at 12:37</span></a></div><div class="user-gravatar32"></div><div class="user-details"><br></div></div>    </td>
            

    <td class="post-signature" align="right">   
       

    <div class="user-info"><div class="user-details"><span class="community-wiki" title="This post is community owned as of Oct 1 '10 at 12:37. Votes do not generate reputation, and it can be edited by users with 100 rep">community wiki</span></div><br><div class="user-details"><a id="history-3839180" href="http://stackoverflow.com/posts/3839180/revisions" title="show revision history for this post">Jonathan Dursi</a></div></div>
    </td>
    </tr>
    </tbody></table>
</td>        </tr>


<tr>
<td class="votecell"></td>
<td>
    <div id="comments-3839180" class="comments dno">
        <table>
        <tbody>
        
            <tr><td></td><td></td></tr>
        
        </tbody>
    
        </table>
    </div>
    
    
    <div style="color: rgb(136, 136, 136);" class="was-this-helpful">
        feedback
    </div>
    
</td>
</tr>    </tbody></table>
</div>
    <a name="new-answer"></a>
    <form id="post-form" action="/questions/3751141/answer/submit" method="post" class="post-form">
        <h2 class="space">Your Answer</h2>

<script type="text/javascript">
    StackExchange.ready(function() {
    
        initTagRenderer("".split(" "), "".split(" "));

              
            prepareEditor({
                heartbeatType: 'answer',
                bindNavPrevention: true,
                postfix: "",
                onDemand: true
                ,immediatelyShowMarkdownHelp:true
            });
            
    });  
</script>


<div id="post-editor" class="post-editor">  

    
    <div class="wmd-container">
        <div id="wmd-button-bar" class="wmd-button-bar"><ul id="wmd-button-row" class="wmd-button-row"><li style="left: 0px;" class="wmd-button" id="wmd-bold-button"><span style="background-position: 0px -20px;"></span></li><li style="left: 25px;" class="wmd-button" id="wmd-italic-button"><span style="background-position: -20px -20px;"></span></li><li style="left: 50px;" class="wmd-spacer" id="wmd-spacer1"><span style="background-position: -40px -20px;"></span></li><li style="left: 75px;" class="wmd-button" id="wmd-link-button"><span style="background-position: -40px -20px;"></span></li><li style="left: 100px;" class="wmd-button" id="wmd-quote-button"><span style="background-position: -60px -20px;"></span></li><li style="left: 125px;" class="wmd-button" id="wmd-code-button"><span style="background-position: -80px -20px;"></span></li><li style="left: 150px;" class="wmd-button" id="wmd-image-button"><span style="background-position: -100px -20px;"></span></li><li style="left: 175px;" class="wmd-spacer" id="wmd-spacer2"><span style="background-position: -120px -20px;"></span></li><li style="left: 200px;" class="wmd-button" id="wmd-olist-button"><span style="background-position: -120px -20px;"></span></li><li style="left: 225px;" class="wmd-button" id="wmd-ulist-button"><span style="background-position: -140px -20px;"></span></li><li style="left: 250px;" class="wmd-button" id="wmd-heading-button"><span style="background-position: -160px -20px;"></span></li><li style="left: 275px;" class="wmd-button" id="wmd-hr-button"><span style="background-position: -180px -20px;"></span></li><li style="left: 300px;" class="wmd-spacer" id="wmd-spacer3"><span style="background-position: -200px -20px;"></span></li><li style="left: 325px;" class="wmd-button" id="wmd-undo-button"><span style="background-position: -200px -20px;"></span></li><li style="left: 350px;" class="wmd-button" id="wmd-redo-button"><span style="background-position: -220px -20px;"></span></li></ul></div>
        <textarea id="wmd-input" class="wmd-input" name="post-text" cols="92" rows="15" tabindex="101"></textarea>
    </div>

    <div class="fl" style="margin-top: 8px; height: 24px;">&nbsp;</div>
    <div id="draft-saved" class="draft-saved community-option fl" style="margin-top: 8px; height: 24px; display: none;">draft saved</div>



    <div id="wmd-preview" class="wmd-preview"></div>
    <div></div>
    <div class="edit-block">
        <input id="fkey" name="fkey" value="00410e720841366a6ca9f68ce0711dbb" type="hidden">
        <input id="author" name="author" type="text">
    </div>
</div>   
    <div class="form-item">
        <table>
        <tbody><tr>
        <td class="vm open-id-login">
            <a id="login-link" style="font-size: 200%; margin-left: 30px;" href="http://stackoverflow.com/users/login?returnurl=%2fquestions%2f3751141%2fmpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes">log in</a>
            <script type="text/javascript">
                StackExchange.ready(function () {
                    StackExchange.helpers.onClickDraftSave('#login-link');
                });
            </script>
        </td>

    
        <td class="orcell">
            <div class="orword">or</div>
            <div class="orline"></div>
        </td>
        <td class="vm">
            <div>
                <label for="display-name">Name</label>
                <input id="display-name" name="display-name" size="30" maxlength="30" tabindex="105" type="text">
            </div>
            <div>
                <label for="m-address">Email</label>
                <input id="m-address" name="m-address" size="40" maxlength="100" tabindex="106" type="text">
                <span class="edit-field-overlay">required, but never shown</span>
            </div>
            <div>
                <label for="home-page">Home Page</label>
                <input id="home-page" name="home-page" size="40" maxlength="200" tabindex="107" type="text">
            </div>
        </td>
    
        </tr>
        </tbody></table>
    </div>
               
        <div class="form-submit cbt"><input id="submit-button" value="Post Your Answer" tabindex="110" type="submit"></div>
    </form>


        <h2 class="bottom-notice">
                Not the answer you're looking for? 
            Browse other questions tagged <a href="http://stackoverflow.com/questions/tagged/c" class="post-tag" title="show questions tagged 'c'" rel="tag">c</a> <a href="http://stackoverflow.com/questions/tagged/multithreading" class="post-tag" title="show questions tagged 'multithreading'" rel="tag">multithreading</a> <a href="http://stackoverflow.com/questions/tagged/mpi" class="post-tag" title="show questions tagged 'mpi'" rel="tag">mpi</a> 
                or <a href="http://stackoverflow.com/questions/ask">ask your own question</a>.
        </h2>
</div>
</div>
<div id="sidebar">



    <style type="text/css">
        .hide-newsletter-loading
        {
            visibility: hidden;
        }
    </style>
    <div class="module newuser newuser-greeting" style="">
        <h4>Hello World!</h4>
        <div>
            <p></p><p>This is a collaboratively edited question and answer site for <b>professional and enthusiast programmers</b>. It's 100% free, no registration required.</p>
            <p class="ar"><a href="http://stackoverflow.com/about?mnu=1">about </a>&nbsp;&nbsp;&nbsp;<a href="http://stackoverflow.com/faq?mnu=1">faq </a>
            </p>
        </div>


            <script type="text/javascript">
                StackExchange.ready(function () {
                    var newUser = $('.newuser-greeting');
                    if(!StackExchange.options.user.isAnonymous) {
                        newUser.removeClass('hide-newsletter-loading');
                        return;
                    }

                    var continuingSession = window.sessionStorage && window.sessionStorage['targettedNewsletter'];

                    var matches = /:\/\/([^\/]*)/.exec(document.referrer);

                    if (!continuingSession && (!matches || matches.length != 2)) {
                        newUser.removeClass('hide-newsletter-loading');
                    } else {
                        var domain = continuingSession || matches[1];

                        if (continuingSession || $.inArray(domain, ['www.reddit.com','news.ycombinator.com']) > -1) {
                            $.ajax({
                                url: '/newsletter/targetted/ajax',
                                data: { domain: domain },
                                success: function (data, status, xhr) {
                                    $('#newsletter-ad').remove();
                                    newUser.empty().append($(data));
                                },
                                complete: function () {
                                    newUser.attr('class', '').attr('style', '');
                                }
                            });

                            if(!continuingSession && window.sessionStorage) {
                                window.sessionStorage['targettedNewsletter'] = domain + '-continued';
                            }
                        } else {
                            newUser.removeClass('hide-newsletter-loading');
                        }
                    }
                });
            </script>
    </div>
    <div class="module">
        <p class="label-key">tagged</p>
        <div class="tagged"><a href="http://stackoverflow.com/questions/tagged/c" class="post-tag" title="show questions tagged 'c'" rel="tag">c</a>&nbsp;<span class="item-multiplier">&nbsp;51695</span><br>
<a href="http://stackoverflow.com/questions/tagged/multithreading" class="post-tag" title="show questions tagged 'multithreading'" rel="tag">multithreading</a>&nbsp;<span class="item-multiplier">&nbsp;21082</span><br>
<a href="http://stackoverflow.com/questions/tagged/mpi" class="post-tag" title="show questions tagged 'mpi'" rel="tag">mpi</a>&nbsp;<span class="item-multiplier">&nbsp;584</span><br>
</div>
        <table id="qinfo">
            <tbody><tr>
                <td><p class="label-key">asked</p></td>
                <td style="padding-left: 10px;"><p class="label-key" title="2010-09-20 11:46:13Z"><b>1 year ago</b></p></td>
            </tr>
            <tr>
                <td><p class="label-key">viewed</p></td>

                <td style="padding-left: 10px;"><p class="label-key"><b>1,044 times</b></p></td>
            </tr>
            <tr>
                <td><p class="label-key">active</p></td>
                <td style="padding-left: 10px;"><p class="label-key"><b><a href="http://stackoverflow.com/questions/3751141/mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes?lastactivity" class="lastactivity-link" title="2010-10-03 18:37:34Z">1 year ago</a></b></p></td>
            </tr>
        </tbody></table>
    </div>
    
        <script type="text/javascript">
            var scriptSrc = "http://engine2.adzerk.net/z/8277/adzerk1_2_4_43,adzerk2_2_17_45,adzerk3_2_4_44?keywords=c,multithreading,mpi";
            if (document.referrer) {
                if (/\?/.test(scriptSrc))
                    scriptSrc += "&";
                else
                    scriptSrc += "?";
                scriptSrc += "xReferrer=" + document.referrer;
            }
            StackExchange.ready(function(){var z = document.createElement("script"); z.type = "text/javascript"; z.async = "true"; z.src = scriptSrc; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);});
        </script>
    
    <div class="everyonelovesstackoverflow" id="adzerk2"><div id="a51-ad-container" style="height: 250px; width: 220px;">
<style type="text/css">
#a51-ad { background: url("http://sstatic.net/area51/Img/bg-area51-ad-commitment.png") no-repeat bottom center; }
#a51-ad, #a51-ad a { display:block; height: 250px; width: 220px; text-decoration: none; }
#a51-ad table { position: relative; top: 55px; }
#a51-ad-title-row { height: 95px; }
#a51-ad-title { padding: 0 5px; text-align: center; font-size: 29.7px; line-height: 33.7px; font-family: Impact,'Futura-CondensedExtraBold',sans-serif; color: #FBF9E2; text-shadow: 3px 3px 3px #000; width: 220px; vertical-align: middle; }
#a51-ad-subtitle { padding:3px; text-align: center; color: white; font-family: Arial,Liberation Sans,DejaVu Sans,sans-serif; font-size: 14px; font-weight: bold; }
</style>
<!--[if lte IE 7]>
<style type-"text/css">
#a51-ad { background: url(http://sstatic.net/area51/Img/bg-area51-ad-commitment.png) no-repeat bottom center; }
</style>
<![endif]-->
<div id="a51-ad">
    <a href="http://engine.adzerk.net/redirect/0/2971/2841/8277/2eec26bf547f46b6a26a31972977e354/45/1178/3087/634653022410943120/?keywords=c%2cmultithreading%2cmpi&amp;url=http%3A%2F%2Farea51.stackexchange.com%2Fproposals%2F30887%2Fthe-workplace%3Fcommit%3D1">
        <table>
            <tbody><tr id="a51-ad-title-row"><td id="a51-ad-title">The Workplace Q&amp;A</td></tr>
            <tr><td id="a51-ad-subtitle">58% committed</td></tr>
        </tbody></table>        
    </a>
</div>
</div><script type="text/javascript">window._a51AdUrl = "http://engine.adzerk.net/redirect/0/2971/2841/8277/2eec26bf547f46b6a26a31972977e354/45/1178/3087/634653022410943120/?keywords=c%2cmultithreading%2cmpi";</script><script src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/js" type="text/javascript"></script></div>

    
    <div id="hireme"> <a href="http://careers.stackoverflow.com/jobs?a=12" class="top" target="_blank"></a> <ul class="jobs"> <li> <a href="http://careers.stackoverflow.com/jobs/16872/integration-engineer-treetop-software?a=jVUCJri" target="_blank" title="Integration Engineer at Treetop Software. Click to learn more."> Integration Engineer<br> <span class="company">Treetop Software</span> <span class="location">United States</span> </a> </li> <li> <a href="http://careers.stackoverflow.com/jobs/16570/php-geeks-couchsurfing-couchsurfing-international?a=jzN2YVy" target="_blank" title="PHP Geeks for CouchSurfing at CouchSurfing International. Click to learn more."> PHP Geeks for CouchSurfing <br> <span class="company">CouchSurfing International</span> <span class="location">San Francisco, CA</span> </a> </li> <li> <a href="http://careers.stackoverflow.com/jobs/16600/software-engineer-model-two-zero?a=jBZirmw" target="_blank" title="Software Engineer at Model Two Zero. Click to learn more."> Software Engineer<br> <span class="company">Model Two Zero</span> <span class="location">London</span> </a> </li> </ul> <img alt="" class="impression" src="mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes_archivos/jVUCJri-jzN2YVy-jBZirmw-12.asc" style="display: none;"></div>

        <div style="margin-bottom: 10px;">
        
<style type="text/css">
#newsletter-ad {
    width: 190px;
    height: 250px;
    overflow: hidden;
    background: url('http://sstatic.net/stackoverflow/img//newsletter-ad.png');
    padding: 0 15px 0 15px;
}
#newsletter-ad-header {
    margin-top: 60px;
}
#newsletter-ad ul {
    margin: 1em 0 1em 1.5em;
}
#newsletter-ad ul li {
    margin-bottom: 5px;
}
#newsletter-signup-container {
    text-align: center;
}
#newsletter-preview-container {
    margin-top: 10px;
    text-align: center;
}
#newsletter-email-input {
    width: 200px;
}
</style>

<script>
    StackExchange.ready(function () {
        StackExchange.newsletterAd.init();
    });
</script>

<div id="newsletter-ad">
    <p id="newsletter-ad-header">Get the <strong>weekly newsletter!</strong></p>
    <ul>
        <li>Top questions and answers</li>
        <li>Important announcements</li>
        <li>Unanswered questions</li>
    </ul>
    <div id="newsletter-signup-container"><input id="newsletter-signup" value="Sign up for the newsletter" type="button"></div>
    <p id="newsletter-preview-container">see an <a href="http://stackexchange.com/newsletters/newsletter?site=stackoverflow.com" id="newsletter-preview">example newsletter</a></p>
</div>

    </div>
  

    <div class="module">
    <h4 id="h-related">Related</h4>
    <div class="related">
    <div class="spacer">
<a href="http://stackoverflow.com/questions/2258759/passing-variable-length-structures-between-mpi-processes" class="question-hyperlink">Passing variable-length structures between MPI processes</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/2980843/using-mpi-type-vector-and-mpi-gather-in-c" class="question-hyperlink">Using MPI_Type_Vector and MPI_Gather, in C</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5104847/mpi-bcast-a-dynamic-2d-array" class="question-hyperlink">MPI_Bcast a dynamic 2d array</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5129040/mpi-logic-circle-of-processes" class="question-hyperlink">MPI - logic circle of processes</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5132292/mpi-passing-argument-1-makes-pointer-from-integer-without-a-cast" class="question-hyperlink">MPI - passing argument 1 makes pointer from integer without a cast</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5158848/mpi-recv-question-how-to-determine-count" class="question-hyperlink">MPI_Recv question - How to determine count?</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5205514/mpi-recieve-multiple-int-from-task-0-root" class="question-hyperlink">MPI - recieve multiple int from task 0 (root)</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5371733/how-to-mpi-gatherv-columns-from-processor-where-each-process-may-send-different" class="question-hyperlink">How to MPI_Gatherv columns from processor, where each process may send different number of columns</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5433697/terminating-all-processes-with-mpi" class="question-hyperlink">Terminating all processes with MPI</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5512245/mpi-scatter-sending-columns-of-2d-array" class="question-hyperlink">MPI_Scatter - sending columns of 2D array</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5516250/mpi-gaussian-elimination-parallelization" class="question-hyperlink">MPI - Gaussian elimination parallelization</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5530168/mpi-sending-and-recieving-rows-of-matrix" class="question-hyperlink">MPI - sending and recieving rows of matrix</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5530648/sending-distributed-chunks-of-a-2d-array-to-the-root-process-in-mpi" class="question-hyperlink">Sending distributed chunks of a 2D array to the root process in MPI</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5652141/mpi-counting-maximum-from-a-matrix-column" class="question-hyperlink">MPI - counting maximum from a matrix column</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/5879496/questions-about-mpi-scatter-executer-its-send-buffer-allocation" class="question-hyperlink">Questions about MPI_Scatter executer &amp; its send buffer allocation</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/6046091/internalize-creation-of-mpi-processes" class="question-hyperlink">Internalize creation of MPI processes</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/6808819/getting-only-two-processes-to-execute-code-in-mpi-dont-know-which-processes-w" class="question-hyperlink">Getting only two processes to execute code in MPI - don't know which processes will get to code segment though</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/7191907/thread-synchronization-with-mpi" class="question-hyperlink">Thread synchronization with MPI</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/7437418/efficiently-update-an-identical-array-on-all-tasks-with-mpi" class="question-hyperlink">Efficiently update an identical array on all tasks with MPI</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/7549316/mpi-partition-matrix-into-blocks" class="question-hyperlink">MPI partition matrix into blocks</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/7655710/event-driven-mpi" class="question-hyperlink">event driven MPI</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/7949836/mpi-continuous-send-and-receive-of-messages-in-a-loop" class="question-hyperlink">MPI continuous send and receive of messages in a loop</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/7971199/mpi-bcast-a-dynamic-2d-array-of-structs" class="question-hyperlink">MPI_Bcast a dynamic 2d array of structs</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/8595529/mpi-reduce-for-array-in-c" class="question-hyperlink">MPI_Reduce for array in C</a>
</div>
<div class="spacer">
<a href="http://stackoverflow.com/questions/8861252/mpi-ring-topology-implementation-for-mpi-isend-irecv" class="question-hyperlink">MPI ring topology implementation for MPI_ISend &amp; IRecv</a>
</div>

    </div>
    </div>
</div>

<div id="feed-link">
    <div id="feed-link-text"><a href="http://stackoverflow.com/feeds/question/3751141" title="feed of this question and its answers"><span class="feed-icon"></span>question feed</a></div>
</div>
<script type="text/javascript">
StackExchange.ready(function(){$.get('/posts/3751141/ivc/526f');});
</script>
<noscript>
    <div><img src="/posts/3751141/ivc/526f" class="dno" alt="" width="0" height="0"></div>
</noscript><div style="display: none;" id="prettify-lang">lang-c</div></div>
        </div>
    </div>
    <div id="footer">
        <div class="footerwrap">
            <div id="footer-menu">
                <a href="http://stackoverflow.com/about">about</a> |
                <a href="http://stackoverflow.com/faq">faq</a> |
                <a href="http://blog.stackexchange.com/?blb=1">blog</a> |
                    <a href="http://chat.stackoverflow.com/">chat</a> |
                <a href="http://data.stackexchange.com/">data</a> |
                <a href="http://blog.stackoverflow.com/category/podcasts/">podcast</a> |
                <a href="http://shop.stackexchange.com/">shop</a> |
                <a href="http://stackexchange.com/legal">legal</a> |
                <a href="http://engine.adzerk.net/redirect/0/2776/2751/0/4de3c60f719c4dfcb1a57531c7050090/0">advertising info</a> |

                <a onclick="StackExchange.switchMobile('on', '/questions/3751141/mpi-column-cyclic-distribution-of-2d-array-from-root-to-other-processes')">mobile</a> |

                <b><a href="mailto:team@stackoverflow.com">contact us</a></b>
                  | <b><a href="http://meta.stackoverflow.com/">feedback</a></b>
                <div id="footer-sites">
                    
                        <span style="color: rgb(254, 122, 21); font-size: 140%;"></span>&nbsp;<a href="http://stackoverflow.com/">stackoverflow.com</a>&nbsp; 
                        <span style="color: rgb(254, 122, 21); font-size: 140%;"></span>&nbsp;<a href="http://stackapps.com/">api/apps</a>&nbsp; 
                        <span style="color: rgb(254, 122, 21); font-size: 140%;"></span>&nbsp;<a href="http://careers.stackoverflow.com/">careers</a>&nbsp; 
                        <span style="color: rgb(232, 39, 44); font-size: 140%;"></span>&nbsp;<a href="http://serverfault.com/">serverfault.com</a>&nbsp; 
                        <span style="color: rgb(0, 175, 239); font-size: 140%;"></span>&nbsp;<a href="http://superuser.com/">superuser.com</a>&nbsp; 
                        <span style="color: rgb(150, 150, 150); font-size: 140%;"></span>&nbsp;<a href="http://meta.stackoverflow.com/">meta</a>&nbsp; 
                        <span style="color: rgb(70, 147, 125); font-size: 140%;"></span>&nbsp;<a href="http://area51.stackexchange.com/">area&nbsp;51</a>&nbsp; 
                        <span style="color: rgb(192, 208, 220); font-size: 140%;"></span>&nbsp;<a href="http://webapps.stackexchange.com/">webapps</a>&nbsp; 
                        <span style="color: rgb(0, 0, 0); font-size: 140%;"></span>&nbsp;<a href="http://gaming.stackexchange.com/">gaming</a>&nbsp; 
                        <span style="color: rgb(221, 72, 20); font-size: 140%;"></span>&nbsp;<a href="http://askubuntu.com/">ubuntu</a>&nbsp; 
                        <span style="color: rgb(156, 228, 254); font-size: 140%;"></span>&nbsp;<a href="http://webmasters.stackexchange.com/">webmasters</a>&nbsp; 
                        <span style="color: rgb(207, 77, 63); font-size: 140%;"></span>&nbsp;<a href="http://cooking.stackexchange.com/">cooking</a>&nbsp; 
                        <span style="color: rgb(244, 242, 141); font-size: 140%;"></span>&nbsp;<a href="http://gamedev.stackexchange.com/">game development</a>&nbsp; 
                        <span style="color: rgb(15, 53, 89); font-size: 140%;"></span>&nbsp;<a href="http://math.stackexchange.com/">math</a>&nbsp; 
                        <span style="color: rgb(242, 242, 242); font-size: 140%;"></span>&nbsp;<a href="http://photo.stackexchange.com/">photography</a>&nbsp; 
                        <span style="color: rgb(3, 113, 135); font-size: 140%;"></span>&nbsp;<a href="http://stats.stackexchange.com/">stats</a>&nbsp; 
                        <span style="color: rgb(241, 231, 204); font-size: 140%;"></span>&nbsp;<a href="http://tex.stackexchange.com/">tex</a>&nbsp; 
                        <span style="color: rgb(225, 205, 174); font-size: 140%;"></span>&nbsp;<a href="http://english.stackexchange.com/">english</a>&nbsp; 
                        <span style="color: rgb(162, 217, 246); font-size: 140%;"></span>&nbsp;<a href="http://cstheory.stackexchange.com/">theoretical cs</a>&nbsp; 
                        <span style="color: rgb(27, 62, 108); font-size: 140%;"></span>&nbsp;<a href="http://programmers.stackexchange.com/">programmers</a>&nbsp; 
                        <span style="color: rgb(41, 58, 93); font-size: 140%;"></span>&nbsp;<a href="http://unix.stackexchange.com/">unix</a>&nbsp;
                        <span style="color: rgb(190, 192, 203); font-size: 140%;"></span>&nbsp;<a href="http://apple.stackexchange.com/">apple</a>&nbsp;
                        <span style="color: rgb(147, 145, 133); font-size: 140%;"></span>&nbsp;<a href="http://wordpress.stackexchange.com/">wordpress</a>&nbsp;
                        <span style="color: rgb(235, 245, 245); font-size: 140%;"></span>&nbsp;<a href="http://physics.stackexchange.com/">physics</a>&nbsp;
                        <span style="color: rgb(65, 118, 171); font-size: 140%;"></span>&nbsp;<a href="http://diy.stackexchange.com/">home&nbsp;improvement</a>&nbsp;
                        <span style="color: rgb(209, 216, 215); font-size: 140%;"></span>&nbsp;<a href="http://gis.stackexchange.com/">gis</a>&nbsp;
                        <span style="color: rgb(229, 226, 211); font-size: 140%;"></span>&nbsp;<a href="http://electronics.stackexchange.com/">electronics</a>&nbsp;
                        <span style="color: rgb(164, 198, 57); font-size: 140%;"></span>&nbsp;<a href="http://android.stackexchange.com/">android</a>&nbsp;
                        <span style="color: rgb(46, 78, 96); font-size: 140%;"></span>&nbsp;<a href="http://security.stackexchange.com/">security</a>&nbsp;
                        <span style="color: rgb(69, 188, 181); font-size: 140%;"></span>&nbsp;<a href="http://bicycles.stackexchange.com/">bicycles</a>&nbsp;
                        <span style="color: rgb(0, 173, 238); font-size: 140%;"></span>&nbsp;<a href="http://dba.stackexchange.com/">dba</a>&nbsp;
                        <span style="color: rgb(46, 218, 240); font-size: 140%;"></span>&nbsp;<a href="http://drupal.stackexchange.com/">drupal</a>&nbsp;
                        <span style="color: rgb(33, 57, 81); font-size: 140%;"></span>&nbsp;<a href="http://sharepoint.stackexchange.com/">sharepoint</a>&nbsp;
                        <span style="color: rgb(115, 171, 179); font-size: 140%;"></span>&nbsp;<a href="http://scifi.stackexchange.com/">scifi &amp; fantasy</a>&nbsp;
                        <span style="color: rgb(35, 98, 159); font-size: 140%;"></span>&nbsp;<a href="http://ux.stackexchange.com/">user experience</a>&nbsp;
                </div>
            </div>
            <div id="footer-flair">
                <a class="peer1" href="http://www.peer1.com/stackoverflow"></a>  
	            <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="cc-wiki-link"></a>
                <div id="svnrev">rev 2012.2.19.1125</div>
            </div>
            <div id="copyright">
                site design / logo  2012 stack exchange inc; 
                user contributions licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc-wiki</a> with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            

        </div>
    </div>
    
    <noscript>
        <div id="noscript-warning">Stack Overflow works best with JavaScript enabled<img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"></div>
    </noscript>
    <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-5620270-1']);
        _gaq.push(['_setCustomVar', 1, 'tags', '|c|multithreading|mpi|']); 
_gaq.push(['_trackPageview']);
    var _qevents = _qevents || [];
    (function(){
        var s=document.getElementsByTagName('script')[0];
        var ga=document.createElement('script');
        ga.type='text/javascript';
        ga.async=true;
        ga.src='http://www.google-analytics.com/ga.js';
        s.parentNode.insertBefore(ga,s);
        var sc=document.createElement('script');
        sc.type='text/javascript';
        sc.async=true;
        sc.src='http://edge.quantserve.com/quant.js'; 
        s.parentNode.insertBefore(sc,s);
    })();
    </script>
    <script type="text/javascript">
        _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
    </script>    
    
    
    
</body></html>