{
    "type":"object",
    "$schema": "http://json-schema.org/draft-03/schema",
    "required":true,
    "properties":{
        "cycle": {
            "type":"number",
            "required":true
        },
        "length": {
            "type":"number",
            "required":true
        },
        "transformation": {
            "type":"object",
            "required":true,
            "properties":{
                "queues": {
                    "type":"array",
                    "required":true,
                    "items": {
                        "type":"object",
                        "required":true,
                        "properties":{
                            "idNode": {
                                "type":"number",
                                "required":true
                            },
                            "resource": {
                                "type":"number",
                                "required":true
                            },
                            "preceders": {
                                "type":"array",
                                "required":true,
                                "items": {
                                    "type":"number",
                                    "required":true
                                }
                            },
                            "followers": {
                                "type":"array",
                                "required":true,
                                "items": {
                                    "type":"number",
                                    "required":false
                                }
                            },
                            "fixedCost": {
                                "type":"number",
                                "required":true
                            },
                            "variableCost": {
                                "type":"number",
                                "required":true
                            }
                        },
						"additionalProperties": false
                    }
                },
                "counters": {
                    "type":"array",
                    "required":true,
                    "items": {
                        "type":"object",
                        "required":true,
                        "properties":{
                            "idNode": {
                                "type":"number",
                                "required":true
                            },
                            "quantity": {
                                "type":"number",
                                "required":true
                            },
                            "preceders": {
                                "type":"array",
                                "required":true,
                                "items": {
                                    "type":"number",
                                    "required":true
                                }
                            },
                            "followers": {
                                "type":"array",
                                "required":true,
                                "items": {
                                    "type":"number",
                                    "required":false
                                }
                            }
                        },
						"additionalProperties": false
                    }
                },
				"functions": {
                    "type":"array",
                    "required":true,
                    "items": {
                        "type":[
									{
										"type": "object",
										"properties": {
											"idNode": {
										        "type":"number",
										        "required":true
										    },
										    "input": {
										        "type":"number",
										        "required":true
										    },
											"output": {
										        "type":"number",
										        "required":true
										    },
										    "preceders": {
										        "type":"array",
										        "required":true,
										        "items": {
										            "type":"number",
										            "required":true
										        }
										    },
										    "followers": {
										        "type":"array",
										        "required":true,
										        "items": {
										            "type":"number",
										            "required":false
										        }
										    },
											"enableProbabilisticBranch": {
										        "enum": [ true ],
										        "required":true
										    },
										    "probabilisticBranch": {
										        "type":"array",
										        "required":true,
										        "items": {
										            "type":"number",
										            "required":true
										        },
								            	"minItems": 2
										    }
										},
										"additionalProperties": false
									},
									{
										"type": "object",
										"properties": {
											"idNode": {
										        "type":"number",
										        "required":true
										    },
										    "input": {
										        "type":"number",
										        "required":true
										    },
											"output": {
										        "type":"number",
										        "required":true
										    },
										    "preceders": {
										        "type":"array",
										        "required":true,
										        "items": {
										            "type":"number",
										            "required":true
										        }
										    },
										    "followers": {
										        "type":"array",
										        "required":true,
										        "items": {
										            "type":"number",
										            "required":false
										        }
										    },
											"enableProbabilisticBranch": {
										        "enum": [ false ],
										        "required":true
										    }
										},
										"additionalProperties": false
									}
								],
                        "required":true,
						"additionalProperties": false
                    }
                },
                "normals": {
                    "type":"array",
                    "required":true,
                    "items": {
                        "type":"object",
                        "required":true,
                        "properties":{
                            "idNode": {
								  "type":"number",
								  "required":true
							 },
							"preceders": {
								 "type":"array",
								 "required":true,
								 "items": {
									  "type":"number",
									  "required":true
								 }
							},
							"followers": {
								  "type":"array",
								  "required":true,
								  "items": {
										"type":"number",
										"required":true
								  }
							},
							 "enableProbabilisticBranch": {
								  "type":"boolean",
								  "required":true
							},
                            "probabilisticBranch": {
                                "type":"array",
                                "required":true,
                                "items": {
                                    "type":"number",
                                    "required":false
                                }
                            },
							"delay": {
								"type": [
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "uniform" ]
													},
													"least": {
														"type":"number",
														"required":true
													},
													"highest": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "deterministic" ]
													},
													"constant": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "normal" ]
													},
													"mean": {
														"type":"number",
														"required":true
													},
													"variance": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "exponential" ]
													},
													"lambda": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "triangular" ]
													},
													"least": {
														"type":"number",
														"required":true
													},
													"highest": {
														"type":"number",
														"required":true
													},
													"mode": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "beta" ]
													},
													"minimun": {
														"type":"number",
														"required":true
													},
													"maximun": {
														"type":"number",
														"required":true
													},
													"shapeAlpha": {
														"type":"number",
														"required":true
													},
													"shapeBeta": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "log-normal" ]
													},
													"mean": {
														"type":"number",
														"required":true
													},
													"escale": {
														"type":"number",
														"required":true
													},
													"shape": {
														"type":"number",
														"required":true
													},
													"minimun": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											}
										],
								"required":true
							}
                        },
						"additionalProperties": false
                    }
                },
                "combis": {
                    "type":"array",
                    "required":true,
					"items": {
						"type":"object",
						"required":true,
						"properties":{
							"idNode": {
								  "type":"number",
								  "required":true
							 },
							"preceders": {
								 "type":"array",
								 "required":true,
								 "items": {
									  "type":"number",
									  "required":true
								 }
							},
							"followers": {
								  "type":"array",
								  "required":true,
								  "items": {
										"type":"number",
										"required":true
								  }
							},
							 "enableProbabilisticBranch": {
								  "type":"boolean",
								  "required":true
							},
                            "probabilisticBranch": {
                                "type":"array",
                                "required":true,
                                "items": {
                                    "type":"number",
                                    "required":false
                                }
                            },
							"delay": {
								"type": [
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "uniform" ]
													},
													"least": {
														"type":"number",
														"required":true
													},
													"highest": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "deterministic" ]
													},
													"constant": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "normal" ]
													},
													"mean": {
														"type":"number",
														"required":true
													},
													"variance": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "exponential" ]
													},
													"lambda": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "triangular" ]
													},
													"least": {
														"type":"number",
														"required":true
													},
													"highest": {
														"type":"number",
														"required":true
													},
													"mode": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "beta" ]
													},
													"minimun": {
														"type":"number",
														"required":true
													},
													"maximun": {
														"type":"number",
														"required":true
													},
													"shapeAlpha": {
														"type":"number",
														"required":true
													},
													"shapeBeta": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											},
											{
												"type": "object",
												"properties": {
													"distribution": {
														"enum": [ "log-normal" ]
													},
													"mean": {
														"type":"number",
														"required":true
													},
													"escale": {
														"type":"number",
														"required":true
													},
													"shape": {
														"type":"number",
														"required":true
													},
													"minimun": {
														"type":"number",
														"required":true
													},
													"seed": {
														"type":"number",
														"required":true
													}
												},
												"additionalProperties": false
											}
										],
								"required":true
							}
						},
						"additionalProperties": false
					}
                }
            }
        }
    },
	"additionalProperties": false
}
